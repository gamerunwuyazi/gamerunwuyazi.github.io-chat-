{"version":3,"file":"js/663.09a96f22.js","mappings":"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","sources":["webpack://vue-chat/./src/views/Register.vue","webpack://vue-chat/./src/views/Register.vue?157d"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <div class=\"register-container\">\n    <!-- 装饰性元素 -->\n    <div class=\"decoration decoration-1\"></div>\n    <div class=\"decoration decoration-2\"></div>\n    <div class=\"decoration decoration-3\"></div>\n    \n    <div class=\"register-form\">\n      <h1>注册聊天室账号</h1>\n      <form ref=\"registerForm\">\n        <div class=\"input-group\">\n          <label for=\"username\">用户名</label>\n          <input type=\"text\" id=\"username\" ref=\"usernameInput\" name=\"username\" required placeholder=\"请输入用户名\">\n          <div class=\"validation-message\" ref=\"usernameValidation\"></div>\n        </div>\n        <div class=\"input-group\">\n          <label for=\"nickname\">昵称</label>\n          <input type=\"text\" id=\"nickname\" ref=\"nicknameInput\" name=\"nickname\" required placeholder=\"请输入昵称\">\n          <div class=\"validation-message\" ref=\"nicknameValidation\"></div>\n        </div>\n        <div class=\"input-group\">\n          <label for=\"password\">密码</label>\n          <input type=\"password\" id=\"password\" ref=\"passwordInput\" name=\"password\" required placeholder=\"请输入密码\">\n          <div class=\"validation-message\" ref=\"passwordValidation\"></div>\n          <div class=\"password-strength\" ref=\"passwordStrength\"></div>\n        </div>\n        <div class=\"input-group\">\n          <label for=\"confirmPassword\">确认密码</label>\n          <input type=\"password\" id=\"confirmPassword\" ref=\"confirmPasswordInput\" name=\"confirmPassword\" required placeholder=\"请再次输入密码\">\n          <div class=\"validation-message\" ref=\"confirmPasswordValidation\"></div>\n        </div>\n        <div class=\"input-group\">\n          <label for=\"captcha\">验证码</label>\n          <div style=\"display: flex; gap: 10px; align-items: center;\">\n            <input type=\"text\" id=\"captcha\" ref=\"captchaInput\" name=\"captcha\" required placeholder=\"请输入验证码\" style=\"flex: 1; width: 0;\"> <!-- width: 0 确保flex: 1 能正常工作 -->\n            <div ref=\"captchaContainer\" style=\"cursor: pointer; flex-shrink: 0; width: 120px;\"></div>\n          </div>\n        </div>\n        <button type=\"submit\" ref=\"registerButton\">注册</button>\n      </form>\n      <p class=\"login-link\">已有账号？<router-link to=\"/login\">去登录</router-link></p>\n      <div ref=\"registerMessage\" class=\"register-message\" style=\"display: none;\"></div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter();\n\n// 使用ref引用DOM元素\nconst registerForm = ref(null);\nconst usernameInput = ref(null);\nconst usernameValidation = ref(null);\nconst nicknameInput = ref(null);\nconst nicknameValidation = ref(null);\nconst passwordInput = ref(null);\nconst passwordValidation = ref(null);\nconst passwordStrength = ref(null);\nconst confirmPasswordInput = ref(null);\nconst confirmPasswordValidation = ref(null);\nconst registerMessage = ref(null);\nconst registerButton = ref(null);\nconst captchaInput = ref(null);\nconst captchaContainer = ref(null);\nlet currentCaptchaId = '';\n\n// 防抖函数\nfunction debounce(func, delay) {\n  let timer;\n  return function() {\n    clearTimeout(timer);\n    timer = setTimeout(() => func.apply(this, arguments), delay);\n  };\n}\n\n// 获取验证码\nasync function getCaptcha() {\n  try {\n    const response = await fetch('https://back.hs.airoe.cn/captcha');\n    const data = await response.json();\n    if (data.status === 'success' && captchaContainer.value) {\n      captchaContainer.value.innerHTML = data.captchaSvg;\n      currentCaptchaId = data.captchaId;\n    }\n  } catch (error) {\n    showMessage('获取验证码失败，请稍后重试', 'error');\n  }\n}\n\n// 验证用户名\nasync function validateUsername() {\n  if (!usernameInput.value || !usernameValidation.value) return false;\n  \n  const username = usernameInput.value.value.trim();\n  if (!username) {\n    usernameValidation.value.textContent = '';\n    return false;\n  }\n\n  if (username.length > 30) {\n    usernameValidation.value.textContent = '用户名长度不能超过30个字符';\n    usernameValidation.value.className = 'validation-message error';\n    return false;\n  }\n\n  // 显示加载状态\n  usernameValidation.value.textContent = '检查中...';\n  usernameValidation.value.className = 'validation-message';\n\n  try {\n    // 调用后端API检查用户名是否重复\n    const response = await fetch(`https://back.hs.airoe.cn/check-username?username=${encodeURIComponent(username)}`);\n    const data = await response.json();\n\n    if (data.status === 'success') {\n      if (data.isAvailable) {\n        usernameValidation.value.textContent = '用户名可用';\n        usernameValidation.value.className = 'validation-message success';\n        return true;\n      } else {\n        usernameValidation.value.textContent = '用户名已存在';\n        usernameValidation.value.className = 'validation-message error';\n        return false;\n      }\n    } else {\n      usernameValidation.value.textContent = data.message || '检查失败，请稍后重试';\n      usernameValidation.value.className = 'validation-message error';\n      return false;\n    }\n  } catch (error) {\n    usernameValidation.value.textContent = '网络错误，请检查用户名是否合法，并稍后重试';\n    usernameValidation.value.className = 'validation-message error';\n    return false;\n  }\n}\n\n// 验证昵称\nfunction validateNickname() {\n  if (!nicknameInput.value || !nicknameValidation.value) return false;\n  \n  const nickname = nicknameInput.value.value.trim();\n  if (!nickname) {\n    nicknameValidation.value.textContent = '';\n    return false;\n  }\n\n  if (nickname.length > 30) {\n    nicknameValidation.value.textContent = '昵称长度不能超过30个字符';\n    nicknameValidation.value.className = 'validation-message error';\n    return false;\n  }\n\n  nicknameValidation.value.textContent = '昵称可用';\n  nicknameValidation.value.className = 'validation-message success';\n  return true;\n}\n\n// 验证密码\nfunction validatePassword() {\n  if (!passwordInput.value || !passwordValidation.value || !passwordStrength.value) return false;\n  \n  const password = passwordInput.value.value;\n  if (!password) {\n    passwordValidation.value.textContent = '';\n    passwordStrength.value.textContent = '';\n    return false;\n  }\n\n  if (password.length < 6) {\n    passwordValidation.value.textContent = '密码长度不能少于6个字符';\n    passwordValidation.value.className = 'validation-message error';\n    passwordStrength.value.textContent = '';\n    return false;\n  }\n\n  passwordValidation.value.textContent = '';\n  passwordValidation.value.className = 'validation-message';\n\n  // 检测密码强度\n  checkPasswordStrength(password);\n  return true;\n}\n\n// 检测密码强度\nfunction checkPasswordStrength(password) {\n  if (!passwordStrength.value) return;\n  \n  let strength = 0;\n\n  // 长度大于等于6\n  if (password.length >= 6) strength++;\n\n  // 包含数字\n  if (/[0-9]/.test(password)) strength++;\n\n  // 包含小写字母\n  if (/[a-z]/.test(password)) strength++;\n\n  // 包含大写字母\n  if (/[A-Z]/.test(password)) strength++;\n\n  // 包含特殊字符\n  if (/[^A-Za-z0-9]/.test(password)) strength++;\n\n  let strengthText = '';\n  let strengthClass = '';\n\n  if (strength <= 2) {\n    strengthText = '密码强度：弱';\n    strengthClass = 'password-strength weak';\n  } else if (strength <= 3) {\n    strengthText = '密码强度：中等';\n    strengthClass = 'password-strength medium';\n  } else {\n    strengthText = '密码强度：强';\n    strengthClass = 'password-strength strong';\n  }\n\n  passwordStrength.value.textContent = strengthText;\n  passwordStrength.value.className = strengthClass;\n}\n\n// 验证确认密码\nfunction validateConfirmPassword() {\n  if (!passwordInput.value || !confirmPasswordInput.value || !confirmPasswordValidation.value) return false;\n  \n  const password = passwordInput.value.value;\n  const confirmPassword = confirmPasswordInput.value.value;\n\n  if (!confirmPassword) {\n    confirmPasswordValidation.value.textContent = '';\n    return false;\n  }\n\n  if (password !== confirmPassword) {\n    confirmPasswordValidation.value.textContent = '两次输入的密码不一致';\n    confirmPasswordValidation.value.className = 'validation-message error';\n    return false;\n  }\n\n  confirmPasswordValidation.value.textContent = '密码一致';\n  confirmPasswordValidation.value.className = 'validation-message success';\n  return true;\n}\n\n// 验证所有字段\nasync function validateAll() {\n  const isUsernameValid = await validateUsername();\n  const isNicknameValid = validateNickname();\n  const isPasswordValid = validatePassword();\n  const isConfirmPasswordValid = validateConfirmPassword();\n  const isCaptchaValid = captchaInput.value?.value?.trim() !== '';\n\n  return isUsernameValid && isNicknameValid && isPasswordValid && isConfirmPasswordValid && isCaptchaValid;\n}\n\n// 注册表单提交事件处理\nasync function handleRegister(e) {\n  e.preventDefault();\n\n  if (!await validateAll()) {\n    showMessage('请修正表单中的错误后再提交', 'error');\n    return;\n  }\n\n  const username = usernameInput.value?.value?.trim() || '';\n  const nickname = nicknameInput.value?.value?.trim() || '';\n  const password = passwordInput.value?.value?.trim() || '';\n  const captchaCode = captchaInput.value?.value?.trim() || '';\n\n  try {\n    // 显示加载状态\n    if (registerButton.value) {\n      registerButton.value.disabled = true;\n      registerButton.value.textContent = '注册中...';\n    }\n\n    // 提交注册请求\n    const response = await fetch('https://back.hs.airoe.cn/register', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        nickname: nickname,\n        password: password,\n        captchaId: currentCaptchaId,\n        captchaCode: captchaCode\n      })\n    });\n\n    const responseText = await response.text();\n\n    let data;\n    try {\n      data = JSON.parse(responseText);\n    } catch (parseError) {\n      showMessage('服务器响应格式错误，请稍后重试', 'error');\n      return;\n    }\n\n    // 改进的响应处理逻辑，支持不同的响应格式\n    if (data.success || data.status === 'success' || data.code === 200) {\n      showMessage('注册成功，即将跳转到登录页面...', 'success');\n      // 注册成功，跳转到登录页面\n      setTimeout(() => {\n        router.push('/login');\n      }, 1500);\n    } else {\n      // 注册失败，显示错误信息\n      const errorMessage = data.message || data.msg || '注册失败，请稍后重试';\n      showMessage(errorMessage, 'error');\n      // 失败时刷新验证码\n      getCaptcha();\n    }\n  } catch (error) {\n    showMessage('注册请求失败，请检查用户名/昵称/密码是否合法，并稍后重试', 'error');\n    // 失败时刷新验证码\n    getCaptcha();\n  } finally {\n    // 恢复按钮状态\n    if (registerButton.value) {\n      registerButton.value.disabled = false;\n      registerButton.value.textContent = '注册';\n    }\n  }\n}\n\n// 显示消息函数\nfunction showMessage(message, type) {\n  if (registerMessage.value) {\n    registerMessage.value.textContent = message;\n    registerMessage.value.style.display = 'block';\n\n    if (type === 'error') {\n      registerMessage.value.style.color = '#d32f2f';\n      registerMessage.value.style.backgroundColor = '#ffebee';\n      registerMessage.value.style.borderColor = '#ffcdd2';\n    } else if (type === 'success') {\n      registerMessage.value.style.color = '#388e3c';\n      registerMessage.value.style.backgroundColor = '#e8f5e8';\n      registerMessage.value.style.borderColor = '#c8e6c9';\n    }\n  }\n}\n\n// 在组件挂载后初始化\nonMounted(() => {\n  // 加载验证码\n  getCaptcha();\n  \n  // 添加验证码点击事件\n  if (captchaContainer.value) {\n    captchaContainer.value.addEventListener('click', getCaptcha);\n  }\n  \n  // 添加表单提交事件\n  if (registerForm.value) {\n    registerForm.value.addEventListener('submit', handleRegister);\n  }\n  \n  // 实时验证用户名\n  if (usernameInput.value) {\n    usernameInput.value.addEventListener('input', debounce(validateUsername, 500));\n  }\n  \n  // 实时验证昵称\n  if (nicknameInput.value) {\n    nicknameInput.value.addEventListener('input', validateNickname);\n  }\n  \n  // 实时验证密码\n  if (passwordInput.value) {\n    passwordInput.value.addEventListener('input', validatePassword);\n  }\n  \n  // 实时验证确认密码\n  if (confirmPasswordInput.value) {\n    confirmPasswordInput.value.addEventListener('input', validateConfirmPassword);\n  }\n});\n</script>\n\n<style scoped>\n/* 注册页面容器样式 */\n.register-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n/* 装饰性元素 */\n.decoration {\n  position: absolute;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.decoration-1 {\n  width: 150px;\n  height: 150px;\n  background: rgba(255, 255, 255, 0.2);\n  top: -150px;\n  right: 0px;\n  animation: float 16s infinite ease-in-out;\n}\n\n.decoration-2 {\n  width: 200px;\n  height: 200px;\n  background: rgba(255, 255, 255, 0.18);\n  bottom: -100px;\n  left: -50px;\n  animation: float 12s infinite ease-in-out;\n}\n\n.decoration-3 {\n  width: 100px;\n  height: 100px;\n  background: rgba(255, 255, 255, 0.15);\n  top: 50%;\n  right: 50px;\n  animation: float 8s infinite ease-in-out;\n}\n\n@keyframes float {\n  0%,\n  100% {\n    transform: translateY(0) translateX(0);\n  }\n\n  25% {\n    transform: translateY(-60px) translateX(30px);\n  }\n\n  50% {\n    transform: translateY(30px) translateX(-45px);\n  }\n\n  75% {\n    transform: translateY(-30px) translateX(-30px);\n  }\n}\n\n/* 注册表单容器 */\n.register-form {\n  position: relative;\n  background: white;\n  padding: 40px;\n  border-radius: 12px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 400px;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  z-index: 10;\n}\n\n.register-form:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);\n}\n\n/* 标题样式 */\nh1 {\n  text-align: center;\n  color: #333;\n  margin-bottom: 30px;\n  font-size: 24px;\n  font-weight: 600;\n}\n\n/* 表单样式 */\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n/* 输入组样式 */\n.input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n/* 标签样式 */\nlabel {\n  font-size: 14px;\n  font-weight: 500;\n  color: #555;\n}\n\n/* 输入框样式 */\ninput {\n  padding: 12px 15px;\n  border: 2px solid #e1e5e9;\n  border-radius: 8px;\n  font-size: 16px;\n  transition: all 0.3s ease;\n  background-color: #f9fafb;\n}\n\ninput:focus {\n  outline: none;\n  border-color: #667eea;\n  background-color: white;\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n}\n\n/* 按钮样式 */\nbutton {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  padding: 14px;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin-top: 10px;\n}\n\nbutton:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);\n}\n\nbutton:active {\n  transform: translateY(0);\n}\n\n/* 登录链接样式 */\n.login-link {\n  text-align: center;\n  margin-top: 25px;\n  font-size: 14px;\n  color: #666;\n}\n\n.login-link a {\n  color: #667eea;\n  text-decoration: none;\n  font-weight: 500;\n  transition: color 0.3s ease;\n}\n\n.login-link a:hover {\n  color: #764ba2;\n  text-decoration: underline;\n}\n\n/* 消息提示样式 */\n.register-message {\n  color: #d32f2f;\n  text-align: center;\n  font-size: 14px;\n  margin-top: 15px;\n  padding: 10px;\n  background-color: #ffebee;\n  border-radius: 6px;\n  border: 1px solid #ffcdd2;\n}\n\n/* 验证消息样式 */\n.validation-message {\n  font-size: 12px;\n  min-height: 16px;\n  margin-top: 4px;\n}\n\n.validation-message.error {\n  color: #d32f2f;\n}\n\n.validation-message.success {\n  color: #388e3c;\n}\n\n/* 密码强度样式 */\n.password-strength {\n  font-size: 12px;\n  margin-top: 8px;\n}\n\n.password-strength.weak {\n  color: #d32f2f;\n}\n\n.password-strength.medium {\n  color: #fbc02d;\n}\n\n.password-strength.strong {\n  color: #388e3c;\n}\n\n/* 响应式设计 */\n@media (max-width: 480px) {\n  .register-form {\n    padding: 30px 20px;\n  }\n\n  h1 {\n    font-size: 22px;\n  }\n\n  input, button {\n    font-size: 15px;\n  }\n}\n</style>","import script from \"./Register.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Register.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=6ea70aad&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6ea70aad\"]])\n\nexport default __exports__"],"names":["router","useRouter","registerForm","ref","usernameInput","usernameValidation","nicknameInput","nicknameValidation","passwordInput","passwordValidation","passwordStrength","confirmPasswordInput","confirmPasswordValidation","registerMessage","registerButton","captchaInput","captchaContainer","currentCaptchaId","debounce","func","delay","timer","clearTimeout","setTimeout","apply","this","arguments","async","getCaptcha","response","fetch","data","json","status","value","innerHTML","captchaSvg","captchaId","error","showMessage","validateUsername","username","trim","textContent","length","className","encodeURIComponent","isAvailable","message","validateNickname","nickname","validatePassword","password","checkPasswordStrength","strength","test","strengthText","strengthClass","validateConfirmPassword","confirmPassword","validateAll","isUsernameValid","isNicknameValid","isPasswordValid","isConfirmPasswordValid","isCaptchaValid","handleRegister","e","preventDefault","captchaCode","disabled","method","headers","body","JSON","stringify","responseText","text","parse","parseError","success","code","push","errorMessage","msg","type","style","display","color","backgroundColor","borderColor","onMounted","addEventListener","_createElementBlock","_hoisted_1","_createElementVNode","class","_hoisted_2","_hoisted_3","for","id","name","required","placeholder","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createVNode","_component_router_link","to","_cache","__exports__"],"ignoreList":[],"sourceRoot":""}