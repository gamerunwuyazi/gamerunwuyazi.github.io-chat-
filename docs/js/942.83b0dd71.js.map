{"version":3,"file":"js/942.83b0dd71.js","mappings":"iRAuFA,SAASA,IACP,GAAIC,EAAAA,GAAaC,eAAgB,EAO/BC,EAAAA,EAAAA,IAAc,QAASF,EAAAA,GAAaC,gBAGpC,MAAME,EAAkBC,SAASC,eAAe,mBAC1CC,EAAqBF,SAASC,eAAe,sBAC7CE,EAA0BH,SAASC,eAAe,oBACpDF,IAAiBA,EAAgBK,MAAMC,QAAU,QACjDH,IACFA,EAAmBE,MAAMC,QAAU,OACnCH,EAAmBE,MAAME,cAAgB,UAEvCH,IAAyBA,EAAwBI,YAAcX,EAAAA,GAAaY,mBAGhFC,EAAAA,EAAAA,IAAkBb,EAAAA,GAAaC,gBAAgB,IAG/Ca,EAAAA,EAAAA,KACF,CACF,C,OAEAC,EAAAA,EAAAA,IAAU,MACRC,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,MAGAlB,KAGAmB,EAAAA,EAAAA,MAGA,MAAMC,EAAuBf,SAASC,eAAe,wBAC/Ce,EAAgChB,SAASC,eAAe,8BAE1De,GAAiCD,IAEnCA,EAAqBX,MAAMC,QAAU,OAGrCW,EAA8BC,iBAAiB,QAAS,WACX,SAAvCF,EAAqBX,MAAMC,SAE7BU,EAAqBX,MAAMC,QAAU,OACrCa,KAAKC,UAAY,oDAGjBJ,EAAqBX,MAAMC,QAAU,OACrCa,KAAKC,UAAY,yCAErB,M,oBA/IFC,EAAAA,EAAAA,IA2EM,MA3ENC,EA2EM,IAAAC,EAAA,KAAAA,EAAA,K,0qFCvER,MAAMC,EAAc,EAEpB,O","sources":["webpack://vue-chat/./src/views/GroupChat.vue","webpack://vue-chat/./src/views/GroupChat.vue?5f19"],"sourcesContent":["<template>\n  <!-- ç¾¤ç»„èŠå¤©ç•Œé¢ -->\n  <div class=\"chat-content\" data-content=\"group-chat\">\n    <!-- ç©ºç™½çŠ¶æ€ -->\n    <div class=\"empty-chat-state active\" id=\"groupEmptyState\">\n      <div class=\"empty-icon\">ğŸ‘¥</div>\n      <h3>é€‰æ‹©ä¸€ä¸ªç¾¤ç»„å¼€å§‹èŠå¤©</h3>\n      <p>è¯·ä»å·¦ä¾§ç¾¤ç»„åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªç¾¤ç»„ï¼Œå¼€å§‹ç¾¤èŠä¼šè¯</p>\n    </div>\n\n    <!-- å…·ä½“ç¾¤ç»„èŠå¤©ç•Œé¢ -->\n    <div class=\"group-chat-interface\" id=\"groupChatInterface\" style=\"display: none;\">\n      <!-- ç¾¤ç»„å¤´éƒ¨ -->\n      <div class=\"group-header\">\n        <h2 id=\"currentGroupName\">ç¾¤ç»„åç§°</h2>\n        <div class=\"group-actions\">\n          <button id=\"groupInfoButton\">ç¾¤ç»„ä¿¡æ¯</button>\n          <button id=\"leaveGroupButton\">é€€å‡ºç¾¤ç»„</button>\n        </div>\n      </div>\n\n      <!-- ç¾¤ç»„Markdownå·¥å…·æ  -->\n      <div class=\"markdown-toolbar group-markdown-toolbar\" id=\"groupMarkdownToolbar\" style=\"display: none;\">\n        <button class=\"markdown-btn\" data-prefix=\"**\" data-suffix=\"**\" data-sample=\"ç²—ä½“æ–‡æœ¬\">ç²—ä½“</button>\n        <button class=\"markdown-btn\" data-prefix=\"_\" data-suffix=\"_\" data-sample=\"æ–œä½“æ–‡æœ¬\">æ–œä½“</button>\n        <button class=\"markdown-btn\" data-prefix=\"`\" data-suffix=\"`\" data-sample=\"ä»£ç \">ä»£ç </button>\n        <button class=\"markdown-btn\" data-prefix=\"```\\n\" data-suffix=\"\\n```\" data-sample=\"ä»£ç å—\">ä»£ç å—</button>\n        <button class=\"markdown-btn\" data-prefix=\"# \" data-sample=\"æ ‡é¢˜\">æ ‡é¢˜</button>\n        <button class=\"markdown-btn\" data-prefix=\"- \" data-sample=\"åˆ—è¡¨é¡¹\">åˆ—è¡¨</button>\n        <button class=\"markdown-btn\" data-prefix=\"> \" data-sample=\"å¼•ç”¨æ–‡æœ¬\">å¼•ç”¨</button>\n        <button class=\"markdown-btn\" data-prefix=\"[é“¾æ¥æè¿°](\" data-suffix=\")\" data-sample=\"é“¾æ¥æ–‡æœ¬\">é“¾æ¥</button>\n        <button class=\"markdown-btn\" data-prefix=\"![å›¾ç‰‡æ— æ³•æ˜¾ç¤ºæ—¶çš„æ–‡å­—](\" data-suffix=\")\" data-sample=\"å›¾ç‰‡URL\">å›¾ç‰‡</button>\n      </div>\n\n      <!-- ç¾¤ç»„æ¶ˆæ¯åˆ—è¡¨ -->\n      <div id=\"groupMessageContainer\">\n        <div class=\"empty-state\">\n          <h3>æš‚æ— ç¾¤æ¶ˆæ¯</h3>\n          <p>å‘é€ç¬¬ä¸€æ¡æ¶ˆæ¯å¼€å§‹ç¾¤èŠå§!</p>\n        </div>\n      </div>\n\n      <!-- ç¾¤ç»„è¾“å…¥åŒºåŸŸ -->\n      <div class=\"input-area\">\n        <div class=\"input-container\" id=\"groupInputContainer\">\n          <textarea id=\"groupMessageInput\" placeholder=\"è¾“å…¥ç¾¤ç»„æ¶ˆæ¯...\"></textarea>\n        </div>\n        <div class=\"input-buttons\" id=\"groupInputButtons\">\n          <button id=\"sendGroupMessage\">å‘é€</button>\n          <button id=\"groupMoreButton\" class=\"more-button\" title=\"æ›´å¤šåŠŸèƒ½\">\n            â‹¯ <span class=\"button-text\">æ›´å¤š</span>\n          </button>\n          <button id=\"toggleGroupMarkdownToolbar\" class=\"toggle-btn\" style=\"background: #f1f1f1; border: 1px solid #ddd; border-radius: 4px; padding: 5px 10px; font-size: 12px; cursor: pointer; color: #666; transition: all 0.2s; margin-left: 5px;\">\n            <i class=\"fas fa-chevron-down\"></i> MD\n          </button>\n        </div>\n        <!-- å°†more-functionsç§»åˆ°input-buttonså¤–é¢ -->\n        <div class=\"more-functions\" id=\"groupMoreFunctions\" style=\"display: none;\">\n          <button id=\"groupImageUploadButton\" title=\"ä¸Šä¼ å›¾ç‰‡\">\n            ğŸ“· <span class=\"button-text\">å‘é€å›¾ç‰‡</span>\n          </button>\n          <button id=\"groupFileUploadButton\" title=\"ä¸Šä¼ æ–‡ä»¶\">\n            ğŸ“¤ <span class=\"button-text\">å‘é€æ–‡ä»¶</span>\n          </button>\n          <button id=\"sendGroupCardButtonGroup\" title=\"å‘é€ç¾¤åç‰‡\">\n            ğŸ“± <span class=\"button-text\">å‘é€ç¾¤åç‰‡</span>\n          </button>\n        </div>\n        <input type=\"file\" id=\"groupImageInput\" style=\"display: none;\" accept=\"image/*\">\n        <input type=\"file\" id=\"groupFileInput\" style=\"display: none;\">\n      </div>\n\n      <!-- ä¸Šä¼ è¿›åº¦æ¡ -->\n      <div class=\"upload-progress\" id=\"groupUploadProgress\">\n        <div class=\"upload-progress-bar\" id=\"groupUploadProgressBar\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style src=\"@/css/index.css\"></style>\n<style src=\"@/css/code-highlight.css\"></style>\n<script setup>\nimport {onMounted} from \"vue\";\nimport {initializeGroupFunctions, initializeMoreButtons, addGroupButtonListeners, sessionStore, setActiveChat, loadGroupMessages, initializeScrollLoading} from \"@/utils/chat\";\n\n// ç›´æ¥åº”ç”¨ä¿å­˜çš„ç¾¤ç»„çŠ¶æ€ï¼Œä¸ä½¿ç”¨setTimeout\nfunction applySavedGroupState() {\n  if (sessionStore.currentGroupId) {\n    // console.log('ç›´æ¥åº”ç”¨ä¿å­˜çš„ç¾¤ç»„çŠ¶æ€:', {\n    //   groupId: sessionStore.currentGroupId,\n    //   groupName: sessionStore.currentGroupName\n    // });\n    \n    // è®¾ç½®æ´»åŠ¨èŠå¤©ä¸ºç¾¤ç»„\n    setActiveChat('group', sessionStore.currentGroupId);\n    \n    // ç¡®ä¿ç¾¤ç»„èŠå¤©ç•Œé¢æ˜¾ç¤º\n    const groupEmptyState = document.getElementById('groupEmptyState');\n    const groupChatInterface = document.getElementById('groupChatInterface');\n    const currentGroupNameElement = document.getElementById('currentGroupName');\n    if (groupEmptyState) groupEmptyState.style.display = 'none';\n    if (groupChatInterface) {\n      groupChatInterface.style.display = 'flex';\n      groupChatInterface.style.flexDirection = 'column';\n    }\n    if (currentGroupNameElement) currentGroupNameElement.textContent = sessionStore.currentGroupName;\n    \n    // åŠ è½½ç¾¤ç»„èŠå¤©è®°å½•\n    loadGroupMessages(sessionStore.currentGroupId, false);\n    \n    // æ‰§è¡ŒaddGroupButtonListenerså‡½æ•°\n    addGroupButtonListeners();\n  }\n}\n\nonMounted(() => {\n  initializeGroupFunctions()\n  initializeMoreButtons()\n\n  // ç›´æ¥åº”ç”¨ä¿å­˜çš„ç¾¤ç»„çŠ¶æ€\n  applySavedGroupState();\n\n  // ç¡®ä¿åœ¨ç»„ä»¶æŒ‚è½½åå†åˆå§‹åŒ–æ»šåŠ¨åŠ è½½æ›´å¤šäº‹ä»¶\n  initializeScrollLoading();\n\n  // åˆå§‹åŒ–ç¾¤ç»„MDå·¥å…·æ \n  const groupMarkdownToolbar = document.getElementById('groupMarkdownToolbar');\n  const toggleGroupMarkdownToolbarBtn = document.getElementById('toggleGroupMarkdownToolbar');\n\n  if (toggleGroupMarkdownToolbarBtn && groupMarkdownToolbar) {\n    // é»˜è®¤éšè—å·¥å…·æ \n    groupMarkdownToolbar.style.display = 'none';\n\n    // ç»‘å®šç‚¹å‡»äº‹ä»¶\n    toggleGroupMarkdownToolbarBtn.addEventListener('click', function () {\n      if (groupMarkdownToolbar.style.display === 'none') {\n        // æ˜¾ç¤ºå·¥å…·æ \n        groupMarkdownToolbar.style.display = 'flex';\n        this.innerHTML = '<i class=\"fas fa-chevron-up\"></i> éšè—Markdownå·¥å…·æ ';\n      } else {\n        // éšè—å·¥å…·æ \n        groupMarkdownToolbar.style.display = 'none';\n        this.innerHTML = '<i class=\"fas fa-chevron-down\"></i> MD';\n      }\n    });\n  }\n});\n</script>","import script from \"./GroupChat.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GroupChat.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"@/css/index.css?vue&type=style&index=0&lang=css&external\"\nimport \"@/css/code-highlight.css?vue&type=style&index=1&lang=css&external\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["applySavedGroupState","sessionStore","currentGroupId","setActiveChat","groupEmptyState","document","getElementById","groupChatInterface","currentGroupNameElement","style","display","flexDirection","textContent","currentGroupName","loadGroupMessages","addGroupButtonListeners","onMounted","initializeGroupFunctions","initializeMoreButtons","initializeScrollLoading","groupMarkdownToolbar","toggleGroupMarkdownToolbarBtn","addEventListener","this","innerHTML","_createElementBlock","_hoisted_1","_cache","__exports__"],"ignoreList":[],"sourceRoot":""}